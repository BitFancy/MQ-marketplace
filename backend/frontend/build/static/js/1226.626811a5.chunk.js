(self.webpackChunknft_market=self.webpackChunknft_market||[]).push([[1226],{88130:(n,t,r)=>{"use strict";r.d(t,{A:()=>o});var e=r(65043),i=r(81228),a=r(26431);const o=function(n){a.A&&((0,i.Tn)(n)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof n)));var t=(0,e.useRef)(n);t.current=(0,e.useMemo)((function(){return n}),[n]);var r=(0,e.useRef)();return r.current||(r.current=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.current.apply(this,n)}),r.current}},41226:(n,t,r)=>{"use strict";r.d(t,{A:()=>q});var e=r(6326),i=r(65043),a=function(n){return function(t,r){var e=(0,i.useRef)(!1);n((function(){return function(){e.current=!1}}),[]),n((function(){if(e.current)return t();e.current=!0}),r)}};const o=a(i.useEffect);var u=function(n,t){var r=t.manual,a=t.ready,u=void 0===a||a,c=t.defaultParams,s=void 0===c?[]:c,l=t.refreshDeps,f=void 0===l?[]:l,d=t.refreshDepsAction,v=(0,i.useRef)(!1);return v.current=!1,o((function(){!r&&u&&(v.current=!0,n.run.apply(n,(0,e.__spreadArray)([],(0,e.__read)(s),!1)))}),[u]),o((function(){v.current||r||(v.current=!0,d?d():n.refresh())}),(0,e.__spreadArray)([],(0,e.__read)(f),!1)),{onBefore:function(){if(!u)return{stopNow:!0}}}};u.onInit=function(n){var t=n.ready,r=void 0===t||t;return{loading:!n.manual&&r}};const c=u;var s=r(18022);function l(n,t){var r=(0,i.useRef)({deps:t,obj:void 0,initialized:!1}).current;return!1!==r.initialized&&(0,s.A)(r.deps,t)||(r.deps=t,r.obj=n(),r.initialized=!0),r.obj}var f=r(39010),d=new Map,v=new Map,p={},h=function(n,t){return p[n]||(p[n]=[]),p[n].push(t),function(){var r=p[n].indexOf(t);p[n].splice(r,1)}};const _=function(n,t){var r=t.cacheKey,a=t.cacheTime,o=void 0===a?3e5:a,u=t.staleTime,c=void 0===u?0:u,s=t.setCache,_=t.getCache,y=(0,i.useRef)(),g=(0,i.useRef)(),m=function(n,t){s?s(t):function(n,t,r){var i=d.get(n);(null===i||void 0===i?void 0:i.timer)&&clearTimeout(i.timer);var a=void 0;t>-1&&(a=setTimeout((function(){d.delete(n)}),t)),d.set(n,(0,e.__assign)((0,e.__assign)({},r),{timer:a}))}(n,o,t),function(n,t){p[n]&&p[n].forEach((function(n){return n(t)}))}(n,t.data)},A=function(n,t){return void 0===t&&(t=[]),_?_(t):function(n){return d.get(n)}(n)};return l((function(){if(r){var t=A(r);t&&Object.hasOwnProperty.call(t,"data")&&(n.state.data=t.data,n.state.params=t.params,(-1===c||(new Date).getTime()-t.time<=c)&&(n.state.loading=!1)),y.current=h(r,(function(t){n.setState({data:t})}))}}),[]),(0,f.A)((function(){var n;null===(n=y.current)||void 0===n||n.call(y)})),r?{onBefore:function(n){var t=A(r,n);return t&&Object.hasOwnProperty.call(t,"data")?-1===c||(new Date).getTime()-t.time<=c?{loading:!1,data:null===t||void 0===t?void 0:t.data,error:void 0,returnNow:!0}:{data:null===t||void 0===t?void 0:t.data,error:void 0}:{}},onRequest:function(n,t){var i=function(n){return v.get(n)}(r);return i&&i!==g.current||(i=n.apply(void 0,(0,e.__spreadArray)([],(0,e.__read)(t),!1)),g.current=i,function(n,t){v.set(n,t),t.then((function(t){return v.delete(n),t})).catch((function(){v.delete(n)}))}(r,i)),{servicePromise:i}},onSuccess:function(t,e){var i;r&&(null===(i=y.current)||void 0===i||i.call(y),m(r,{data:t,params:e,time:(new Date).getTime()}),y.current=h(r,(function(t){n.setState({data:t})})))},onMutate:function(t){var e;r&&(null===(e=y.current)||void 0===e||e.call(y),m(r,{data:t,params:n.state.params,time:(new Date).getTime()}),y.current=h(r,(function(t){n.setState({data:t})})))}}:{}};var y=r(93950),g=r.n(y);const m=function(n,t){var r=t.debounceWait,a=t.debounceLeading,o=t.debounceTrailing,u=t.debounceMaxWait,c=(0,i.useRef)(),s=(0,i.useMemo)((function(){var n={};return void 0!==a&&(n.leading=a),void 0!==o&&(n.trailing=o),void 0!==u&&(n.maxWait=u),n}),[a,o,u]);return(0,i.useEffect)((function(){if(r){var t=n.runAsync.bind(n);return c.current=g()((function(n){n()}),r,s),n.runAsync=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new Promise((function(r,i){var a;null===(a=c.current)||void 0===a||a.call(c,(function(){t.apply(void 0,(0,e.__spreadArray)([],(0,e.__read)(n),!1)).then(r).catch(i)}))}))},function(){var r;null===(r=c.current)||void 0===r||r.cancel(),n.runAsync=t}}}),[r,s]),r?{onCancel:function(){var n;null===(n=c.current)||void 0===n||n.cancel()}}:{}};const A=function(n,t){var r=t.loadingDelay,e=t.ready,a=(0,i.useRef)();if(!r)return{};var o=function(){a.current&&clearTimeout(a.current)};return{onBefore:function(){return o(),!1!==e&&(a.current=setTimeout((function(){n.setState({loading:!0})}),r)),{loading:!1}},onFinally:function(){o()},onCancel:function(){o()}}};var b=r(63656);function w(){return!b.A||"hidden"!==document.visibilityState}var P=[];if(b.A){window.addEventListener("visibilitychange",(function(){if(w())for(var n=0;n<P.length;n++){(0,P[n])()}}),!1)}const R=function(n){return P.push(n),function(){var t=P.indexOf(n);P.splice(t,1)}};const T=function(n,t){var r=t.pollingInterval,e=t.pollingWhenHidden,a=void 0===e||e,u=t.pollingErrorRetryCount,c=void 0===u?-1:u,s=(0,i.useRef)(),l=(0,i.useRef)(),f=(0,i.useRef)(0),d=function(){var n;s.current&&clearTimeout(s.current),null===(n=l.current)||void 0===n||n.call(l)};return o((function(){r||d()}),[r]),r?{onBefore:function(){d()},onError:function(){f.current+=1},onSuccess:function(){f.current=0},onFinally:function(){-1===c||-1!==c&&f.current<=c?s.current=setTimeout((function(){a||w()?n.refresh():l.current=R((function(){n.refresh()}))}),r):f.current=0},onCancel:function(){d()}}:{}};var S=[];if(b.A){var E=function(){if(w()&&(!b.A||"undefined"===typeof navigator.onLine||navigator.onLine))for(var n=0;n<S.length;n++){(0,S[n])()}};window.addEventListener("visibilitychange",E,!1),window.addEventListener("focus",E,!1)}const C=function(n){return S.push(n),function(){var t=S.indexOf(n);t>-1&&S.splice(t,1)}};const O=function(n,t){var r=t.refreshOnWindowFocus,a=t.focusTimespan,o=void 0===a?5e3:a,u=(0,i.useRef)(),c=function(){var n;null===(n=u.current)||void 0===n||n.call(u)};return(0,i.useEffect)((function(){if(r){var t=function(n,t){var r=!1;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];r||(r=!0,n.apply(void 0,(0,e.__spreadArray)([],(0,e.__read)(i),!1)),setTimeout((function(){r=!1}),t))}}(n.refresh.bind(n),o);u.current=C((function(){t()}))}return function(){c()}}),[r,o]),(0,f.A)((function(){c()})),{}};const x=function(n,t){var r=t.retryInterval,e=t.retryCount,a=(0,i.useRef)(),o=(0,i.useRef)(0),u=(0,i.useRef)(!1);return e?{onBefore:function(){u.current||(o.current=0),u.current=!1,a.current&&clearTimeout(a.current)},onSuccess:function(){o.current=0},onError:function(){if(o.current+=1,-1===e||o.current<=e){var t=null!==r&&void 0!==r?r:Math.min(1e3*Math.pow(2,o.current),3e4);a.current=setTimeout((function(){u.current=!0,n.refresh()}),t)}else o.current=0},onCancel:function(){o.current=0,a.current&&clearTimeout(a.current)}}:{}};var M=r(79889),H=r.n(M);const j=function(n,t){var r=t.throttleWait,a=t.throttleLeading,o=t.throttleTrailing,u=(0,i.useRef)(),c={};return void 0!==a&&(c.leading=a),void 0!==o&&(c.trailing=o),(0,i.useEffect)((function(){if(r){var t=n.runAsync.bind(n);return u.current=H()((function(n){n()}),r,c),n.runAsync=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new Promise((function(r,i){var a;null===(a=u.current)||void 0===a||a.call(u,(function(){t.apply(void 0,(0,e.__spreadArray)([],(0,e.__read)(n),!1)).then(r).catch(i)}))}))},function(){var r;n.runAsync=t,null===(r=u.current)||void 0===r||r.cancel()}}}),[r,a,o]),r?{onCancel:function(){var n;null===(n=u.current)||void 0===n||n.cancel()}}:{}};var B=r(25529),F=r(88130),k=r(81228),D=r(26431);const L=function(n){D.A&&((0,k.Tn)(n)||console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof n,'".'))),(0,i.useEffect)((function(){null===n||void 0===n||n()}),[])};const W=function(){var n=(0,e.__read)((0,i.useState)({}),2)[1];return(0,i.useCallback)((function(){return n({})}),[])};var I=function(){function n(n,t,r,i){void 0===i&&(i={}),this.serviceRef=n,this.options=t,this.subscribe=r,this.initState=i,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},this.state),{loading:!t.manual}),i)}return n.prototype.setState=function(n){void 0===n&&(n={}),this.state=(0,e.__assign)((0,e.__assign)({},this.state),n),this.subscribe()},n.prototype.runPluginHandler=function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=this.pluginImpls.map((function(r){var i;return null===(i=r[n])||void 0===i?void 0:i.call.apply(i,(0,e.__spreadArray)([r],(0,e.__read)(t),!1))})).filter(Boolean);return Object.assign.apply(Object,(0,e.__spreadArray)([{}],(0,e.__read)(i),!1))},n.prototype.runAsync=function(){for(var n,t,r,i,a,o,u,c,s,l,f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return(0,e.__awaiter)(this,void 0,void 0,(function(){var d,v,p,h,_,y,g,m,A,b,w;return(0,e.__generator)(this,(function(P){switch(P.label){case 0:if(this.count+=1,d=this.count,v=this.runPluginHandler("onBefore",f),p=v.stopNow,h=void 0!==p&&p,_=v.returnNow,y=void 0!==_&&_,g=(0,e.__rest)(v,["stopNow","returnNow"]),h)return[2,new Promise((function(){}))];if(this.setState((0,e.__assign)({loading:!0,params:f},g)),y)return[2,Promise.resolve(g.data)];null===(t=(n=this.options).onBefore)||void 0===t||t.call(n,f),P.label=1;case 1:return P.trys.push([1,3,,4]),(m=this.runPluginHandler("onRequest",this.serviceRef.current,f).servicePromise)||(m=(w=this.serviceRef).current.apply(w,(0,e.__spreadArray)([],(0,e.__read)(f),!1))),[4,m];case 2:return A=P.sent(),d!==this.count?[2,new Promise((function(){}))]:(this.setState({data:A,error:void 0,loading:!1}),null===(i=(r=this.options).onSuccess)||void 0===i||i.call(r,A,f),this.runPluginHandler("onSuccess",A,f),null===(o=(a=this.options).onFinally)||void 0===o||o.call(a,f,A,void 0),d===this.count&&this.runPluginHandler("onFinally",f,A,void 0),[2,A]);case 3:if(b=P.sent(),d!==this.count)return[2,new Promise((function(){}))];throw this.setState({error:b,loading:!1}),null===(c=(u=this.options).onError)||void 0===c||c.call(u,b,f),this.runPluginHandler("onError",b,f),null===(l=(s=this.options).onFinally)||void 0===l||l.call(s,f,void 0,b),d===this.count&&this.runPluginHandler("onFinally",f,void 0,b),b;case 4:return[2]}}))}))},n.prototype.run=function(){for(var n=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.runAsync.apply(this,(0,e.__spreadArray)([],(0,e.__read)(t),!1)).catch((function(t){n.options.onError||console.error(t)}))},n.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},n.prototype.refresh=function(){this.run.apply(this,(0,e.__spreadArray)([],(0,e.__read)(this.state.params||[]),!1))},n.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,e.__spreadArray)([],(0,e.__read)(this.state.params||[]),!1))},n.prototype.mutate=function(n){var t=(0,k.Tn)(n)?n(this.state.data):n;this.runPluginHandler("onMutate",t),this.setState({data:t})},n}();const N=I;const z=function(n,t,r){void 0===t&&(t={}),void 0===r&&(r=[]);var i=t.manual,a=void 0!==i&&i,o=(0,e.__rest)(t,["manual"]);D.A&&t.defaultParams&&!Array.isArray(t.defaultParams)&&console.warn("expected defaultParams is array, got ".concat(typeof t.defaultParams));var u=(0,e.__assign)({manual:a},o),c=(0,B.A)(n),s=W(),d=l((function(){var n=r.map((function(n){var t;return null===(t=null===n||void 0===n?void 0:n.onInit)||void 0===t?void 0:t.call(n,u)})).filter(Boolean);return new N(c,u,s,Object.assign.apply(Object,(0,e.__spreadArray)([{}],(0,e.__read)(n),!1)))}),[]);return d.options=u,d.pluginImpls=r.map((function(n){return n(d,u)})),L((function(){if(!a){var n=d.state.params||t.defaultParams||[];d.run.apply(d,(0,e.__spreadArray)([],(0,e.__read)(n),!1))}})),(0,f.A)((function(){d.cancel()})),{loading:d.state.loading,data:d.state.data,error:d.state.error,params:d.state.params||[],cancel:(0,F.A)(d.cancel.bind(d)),refresh:(0,F.A)(d.refresh.bind(d)),refreshAsync:(0,F.A)(d.refreshAsync.bind(d)),run:(0,F.A)(d.run.bind(d)),runAsync:(0,F.A)(d.runAsync.bind(d)),mutate:(0,F.A)(d.mutate.bind(d))}};const q=function(n,t,r){return z(n,t,(0,e.__spreadArray)((0,e.__spreadArray)([],(0,e.__read)(r||[]),!1),[m,A,T,O,j,c,_,x],!1))}},79889:(n,t,r)=>{var e=r(93950),i=r(46686);n.exports=function(n,t,r){var a=!0,o=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return i(r)&&(a="leading"in r?!!r.leading:a,o="trailing"in r?!!r.trailing:o),e(n,t,{leading:a,maxWait:t,trailing:o})}}}]);
//# sourceMappingURL=1226.626811a5.chunk.js.map